Autogenerating download files
=============================

.. todo::

  Implement this feature for Drupal 7
  
The iform_remote_download module allows download CSV files to be autogenerated for all 
data flow filters assigned to a given user. Filters are entries in the ``filters`` table
on the warehouse and define a set of parameters to extract a set of records from the 
database, e.g. a date range, geographic or taxonomic constraint. 

Usage
-----

#. You might typically create a fake user account to represent a data destination 
   (e.g. the NBN Gateway), or use a standard user account. The user should be registered
   on a Drupal client system running Easy Login and the iform_remote_download module
   such as iRecord.
#. Create entries in the ``filters`` and ``filters_users`` table assigned to this user 
   account to define the contents of each download file that you require. On iRecord
   you will need rights to use the Filters Admin tool to do this. On other systems
   you can create a Dynamic Report Explorer page with the option ``admin=true`` set
   on the report filter panel control. 
#. Assign ``autogenerate downloads`` to the users you want to be able to trigger the 
   creation of the download files.
#. Visit the path ``/remote_download/autogenerate?indicia_user_id=nn`` where ``nn` is 
   the Indicia user ID of the account you have created data flow filters for. Assuming
   that no errors are output, this will generate 1 file per filter assigned to the user.
#. The CSV files are generated in a folder 
   ``sites/default/files/autogenerated_downloads/user_id_nn`` where ``nn`` is the warehouse
   user ID of the user you are generating files for. Each file will be called 
  ``download-mm.csv`` where ``mm`` is the ID of the filter record in the database.
